
1. ЛЮБОЙ, ИМЕЮЩИЙ ФИЗИЧЕСКИЙ ДОСТУП К МАШИНЕ МОЖЕТ ЗАПУСТИТЬ ПО НА ЭТАПЕ ЗАГРУЗКИ(ФЛЕШКИ), НУЖНО НАСТРОИТЬ ПАРОЛЬ НА GRUB:
		1) "grub-mkpasswd-pbkdf2" - СОЗДАСТ ПАРОЛЬ И HASH К НЕМУ;
		2) СОХРАНЯЕМ HASH В БУФЕР ОБМЕНА CTRL+SHIFT+C;
		3) "sudo nano /etc/grub.d/00_header" - ДОБАВИМ В САМЫЙ КОНЕЦ 	ФАЙЛА, ЧЕРЕЗ ПРОБЕЛ ОТ ОСТАЛЬНОГО, СЛЕДУЮЩИЕ СТРОКИ:
		"
		cat << EOF

		set superusers=USER_NAME
		password_pbkdf2 USER_NAME HASH

		EOF	
		";
 		4) "sudo grub-mkconfig" - ОБНОВИТ КОНФИГ GRUB.

2. БАЗОВЫЕ ДАМПЫ, ХРАНЯЩИЕ ИНФОРМАЦИЮ О СБОЕ КОНКРЕТНОГО ПРОГРАММНОГО КОМПОНЕНТА( ТРАТА СИСТЕМНЫХ РЕСУРСОВ, ДИСКОВОГО ПРОСТРАНСТВА, СОДЕРЖАТ КОНФИДЕНЦИАЛЬНЫЕ ДАННЫЕ - "https://wiki.archlinux.org/title/Core_dump_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" ):
	1) ИСПОЛЬЗУЯ SYSCTL:
		1) "sudo nano /etc/sysctl.d/50-coredump.conf" - ОТКРОЕМ ФАЙЛ;
		2) "kernel.core_pattern=/dev/null" - ДОБАВИМ СТРОЧКУ ДЛЯ ОТКЛЮЧЕНИЯ ДАМПОВ;
		3) "sudo sysctl -p /etc/sysctl.d/50-coredump.conf" - НЕМЕДЛЕННОЕ ПРИМЕНЕНИЕ.
	2) ИСПОЛЬЗУЯ SYSTEMD:
		1) "sudo nano /etc/systemd/coredump.conf" - ОТКРОЕМ ФАЙЛ;
		2) "Storage=none" - ИЗМЕНИМ ЗНАЧЕНИЕ;
		3) "sudo systemctl daemon-reload" - ПЕРЕЗАПУСТИТ SYSTEMD
	3) ИСПОЛЬЗУЯ PAM LIMITS:
		1) "sudo nano /etc/security/limits.conf" - ОТКРОЕМ ФАЙЛ;
		2) "*	hard	core	0" - ДОБАВИМ ЗНАЧЕНИЕ(ОГРАНИЧЕНИЕ РАЗМЕРА ДАМПОВ ДО 0 ДЛЯ ВСЕХ ПОЛЬЗОВАТЕЛЕЙ).
	

3. ПРОБЛЕМЫ АВТОРИЗАЦИИ,(п. 1-3 РЕШАЕТСЯ В ФАЙЛЕ "sudo nano /etc/login.defs"): 
	1) ПРАВА ДОСТУПА К ФАЙЛАМ:
		1) НАЙДЁМ И ИЗМЕНИМ ЗНАЧЕНИЯ:
		2) "UMASK 027" - НОВЫЕ ФАЙЛЫ МОГУТ БЫТЬ ПРОЧИТАНЫ СОЗДАТЕЛЕМ, ПРОЧИТАНЫ ГРУППОЙ СОЗДАТЕЛЯ, ДРУГИЕ НИЧЕГО НЕ МОГУТ.
	2) МИНИМАЛЬНОЕ И МАКСИМАЛЬНОЕ ЗНАЧЕНИЕ ВОЗРАСТА ПАРОЛЯ:
		1) НАЙДЁМ И ИЗМЕНИМ ЗНАЧЕНИЯ:
		2) "PASS_MAX_DAYS 90" - В ТЕЧЕНИЕ 90 ДНЕЙ ПАРОЛЬ БУДЕТ ДЕЙСТВИТЕЛЬНЫМ;
		3) "PASS_MIN_DAYS 7" - В ТЕЧЕНИЕ 7 ДНЕЙ ПОСЛЕ СОЗДАНИЯ ПАРОЛЯ ЕГО НЕЛЬЗЯ ИЗМЕНИТЬ.
	3) НАСТРОИТЬ РАУНДЫ ХЕШИРОВАНИЯ ПАРОЛЕЙ(БОЛЬШЕЕ КОЛИЧЕСТВО ОЗНАЧАЕТ БОЛЕЕ БЕЗОПАСНОЕ ХЕШИРОВАНИЕ, НО ЗАНИМАЕТ БОЛЬШЕ ВРЕМЕНИ):
		1) НАЙДЁМ И ИЗМЕНИМ ЗНАЧЕНИЯ:
		3) "SHA_CRYPT_MIN_ROUNDS 5000" - МИНИМУМ РАУНДОВ;
		4) "SHA_CRYPT_MAX_ROUNDS 5000" - МАКСИМУМ РАУНДОВ, ИТОГО: 5000 РАУНДОВ(ПО УМОЛЧАНИЮ).
	4) УСТАНОВИТЬ ЗНАЧЕНИЕ ВОЗРАСТА ДЛЯ ВСЕХ ПАРОЛЕЙ:
		1) "sudo chage -M 90 USER" И "sudo chage -M 90 root" - УСТАНОВИТ СРОК ДЕЙСТВИЯ НА ПАРОЛИ.
	5) НУЖНО СКАЧАТЬ PAM ДЛЯ ПРОВЕРКИ СИЛЫ ПАРОЛЯ:
		1) "sudo pacman -S libpwquality" - ПОМОГАЕТ НАСТРОИТЬ ПОЛИТИКИ ПАРОЛЕЙ;
		2) "sudo nano /etc/pam.d/passwd" - ДОБАВИМ В ФАЙЛ НАШИ НАСТРОЙКИ, КОТОРЫЕ БУДЕМ БРАТЬ ОТСЮДА "https://wiki.archlinux.org/title/Security" ПУНКТ 2.4 (ЕСТЬ РУССКИЙ);
		3) ПРИМЕР :
		"
		password required pam_pwquality.so retry=2 minlen=3 lcredit=-1 [badwords=myservice mydomain] enforse_for_root
		password required pam_unix.so use_authtok
		";
		4) "sudo passwd USER" И "sudo reboot" - ПОМЕНЯТЬ ПАРОЛЬ И ПЕРЕЗАГРУЗИТСЯ ЧТОБЫ ВСТУПИЛО В ДЕЙСТВИЕ.

4. ОТКЛЮЧИТЬ СЕТЕВЫЕ ПРОТОКОЛЫ, КОТОРЫЕ НЕ НУЖНЫ В ЭТОЙ СИСТЕМЕ:
	1) "sudo nano /etc/modprobe.d/blacklist" - СОЗДАДИМ ФАЙЛ И ДОБАВИМ СЛЕДУЮЩЕЕ:
	install PROTOCOL /bin/true;
	2) О ПРОТОКОЛАХ МОЖНО ПОЧИТАТЬ В ИНТЕРНЕТЕ: dccp, sctp, rds, tipc.

5. НУЖНО ДОБАВИТЬ БАННЕР, ЧТО БУДЕТ ПОЯВЛЯТЬСЯ ДЛЯ НЕАВТОРИЗОВАННЫХ ПОЛЬЗОВАТЕЛЕЙ(В САМОМ НАЧАЛЕ ПЕРЕД ВХОДОМ):
	1) "sudo nano /etc/issue" - ОТКРОЕМ ФАЙЛ И ВПИШЕТ, НАПРИМЕР СЛЕДУЮЩЕЕ:
	"
************************************************************************
*                  		Добро пожаловать в систему!                     			*
*                                                                   					*
*           	 Внимание: Доступ только для авторизованных           			*
*                                                                   					*
*   	Нарушители будут привлечены к ответственности в соответствии   		*
*             	с действующими законами и политиками.                			*
*                                                                   					*
************************************************************************
";
	2) "sudo cat /etc/issue" - ПРОВЕРИМ НОРМАЛЬНО ЛИ ВЫВОДИТ.


6. УСТАНОВИМ ХОТЯ БЫ ОДИН СКАНЕР ВРЕДОНОСНЫХ ПРОГРАММ ДЛЯ ПЕРЕОДИЧЕСКОГО СКАНИРОВАНИЯ:
	1) "sudo pacman -S rkhunter" - СКАНЕР ВРЕДОНОСНЫХ ПРОГРАММ;
	2) "sudo rkhunter --check" - ЗАПУСТИТ СКАНИРОВАНИЕ;
	3) "sudo nano /etc/rkhunter.conf" - КОНФИГ.

7. ПАУЗА ПОСЛЕ НЕУДАЧНОЙ ПОПЫТКИ ВХОДА:
	1) "sudo nano /etc/pam.d/system-login" - ОТКРОЕМ И ДОБАВИМ(4 СЕКУНДЫ):
	"
	auth   optional pam_faildelay.so delay=4000000
	";
	2) "sudo nano /etc/security/faillock.conf" - ОТКРОЕМ ФАЙЛ С НАСТРОЙКАМИ БЛОКИРОВОК(СОХРАНЯЕМ БЛОКИРОВКИ, КОЛИЧЕСТВО ПОПЫТОК, ВРЕМЯ ДЛЯ ПОПЫТОК ПОСЛЕ КОТОРЫХ БУДЕТ БЛОКИРОВКА, ПРОДОЛЖИТЕЛЬНОСТЬ БЛОКИРОВКИ):
	"
	dir = /var/lib/faillock
	deny = 3
	fail_interval = 900
	unlock_time = 600
	".

8. ЗАЩИТА ОТ FORK-БОМБ И ДРУГИХ DOS-АТАК:
	1) "ps --no-headers -Leo user | sort | uniq --count" - ПОСМОТРИМ КОЛИЧЕСТВО ЗАПУЩЕННЫХ ПОТОКОВ У ПОЛЬЗОВАТЕЛЕЙ;
	2)"sudo nano /etc/security/limits.conf" - ОТКРОЕМ ФАЙЛ И ДОБАВИМ ПРЕДЕЛ ПОТОКОВ(ИСХОДЯ ИЗ КОЛИЧЕСТВА ПОТОКОВ):
	"
	* soft nproc 100
	* hard nproc 200
	".

9. ОБНОВИМ ПРАВА ДОСТУПА К УЯЗВИМЫМ ФАЙЛАМ:
	1) "sudo chmod go-rwx /boot" И "sudo chmod go-rwx /etc/iptables" - ЗАПРЕТ НА ЧТЕНИЕ, ЗАПИСЬ, ВЫПОЛНЕНИЕ ФАЙЛА ВСЕМ ПОЛЬЗОВАТЕЛЯМ, КРОМЕ ВЛАДЕЛЬЦА;
	2) BOOT - ФАЙЛ ЯДРА VMLINUZ И ОБРАЗ INITRAMFS;
	3) IPTABLES - НАСТРОЙКИ IPTABLES.

10. ПАРАМЕТРЫ УПРАВЛЕНИЯ ВХОДОМ В СИСТЕМУ:
	1) "sudo nano /etc/security/access.conf" - ОТКРОЕМ ФАЙЛ И ДОБАВИМ В САМЫЙ НИЗ:
	"
	+:USER:LOCAL
	+:(wheel):LOCAL
	+:(adm):LOCAL
	-:ALL:ALL
	".

11. ПЕРЕХОДИМ К 6 ЭТАПУ:
	1) "sudo reboot" - ПЕРЕЗАПУСТИМ.
	

